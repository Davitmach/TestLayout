import { useRef, useState, useEffect } from "react";
import "./projects.scss";
import { useNavigate } from "react-router-dom";
const Skileton = ()=> {
  return(
    <div className="Skilet "  >
        <div className="Img_box">
          <div></div>
        </div>
        <div className="Info_box">
          <div className="Title_box"></div>
          <div className="Date_box"></div>
        </div>
      </div>
  )
}

export default function Projects() {
  const [active, setActive] = useState("Создание сайтов");
  const [more, setMore] = useState(false);
  // const [Cases,setCases] = useState([]);
  const [loading,setLoading] = useState(false);
  const [hasActiveCase,setActiveCase] = useState(false);
  const [activeCases, setActiveCases] = useState([]);
  const navigate = useNavigate();
  const HandleChange = (state) => {
    setActive(state);
  };

  // useEffect(() => {
  //   async function get() {
  //     try {
  //       const response = await fetch("https://getcases.onrender.com/get", {
  //         method: "GET",
  //         headers: {
  //           "Content-Type": "application/json",
  //         },
  //       });
        
  //       if (!response.ok) {
  //         throw new Error('Ошибка при получении данных');
  //       }

  //       const data = await response.json(); // Получаем данные в формате JSON
  //      setCases(data); // Сохраняем данные в состоянии
  //      setLoading(false);
  //      console.log(data);
       
       
  //     } catch (err) {
  //      console.log(err);
       
    
  //     }
  //   }

  //   get();
  // }, []); // Пустой массив зависимостей, чтобы выполнить запрос только один раз при монтировании


  const Cases = [
    {
      type:"Создание сайтов",
      img: "/case/перемены/main.png",
      title: "Перемены",
      date: "Февраль 2025",
      page: {
        inner:'/case/перемены/inner.png',
        img: [
          "/case/перемены/1.png",
          "/case/перемены/2.png",
          "/case/перемены/3.png",
          "/case/перемены/4.png",
          "/case/перемены/5.png",
          "/case/перемены/6.png",
        ],
        info: [
          {
            title: "Запрос клиента",
            description: `Клиент занимается арт-ремонтом балконов и комнат, превращая стандартные помещения в стильные пространства. Они хотели полностью обновить свой сайт, так как старый выглядел устаревшим и не отражал их новую философию.
Главное пожелание: уход от перегруженного дизайна в сторону минимализма и строгого, лаконичного стиля. Сайт должен передавать эстетику премиального ремонта, выглядеть стильно, но при этом быть удобным и функциональным.`,
          },
          {
            title: "Погружение в проект",
            description: `Изучив аудиторию, мы поняли, что клиенты компании ценят эстетику, но часто не знают, как выразить свои желания. Им нужен сайт, который не просто продает услуги, а вдохновляет и помогает представить идеальный интерьер.`,
          },
          {
            title: "Дизайн: минимализм, стиль и внимание к деталям",
            description: `Мы разработали концепцию, основанную на строгом, но выразительном дизайне, который транслирует философию бренда.
`,
          },
          {
            title: "Ключевые решения:",
            description: `Простота форм и четкая структура — никаких лишних элементов, только продуманная навигация и чистый визуал.
 Крупные фотографии работ — проекты говорят сами за себя, поэтому мы сделали акцент на качественные изображения в высоком разрешении.
 Спокойная цветовая гамма — сочетание глубоких графитовых оттенков, мягкого бежа и натурального дерева, создающее ощущение уюта и премиальности.
 Минимум текста, максимум смысла — каждая фраза лаконична и несет ценность, чтобы не перегружать пользователя информацией.
 Тонкие анимации — плавные переходы, легкие затемнения и мягкие появления элементов, создающие ощущение дорогого, продуманного интерфейса.
`,
          },
          {
            title: "Разработка и запуск",
            description: `Мы реализовали сайт на React + Node.js, что обеспечило:
Быструю загрузку и высокую производительность.
Идеальную адаптивность под мобильные устройства.
Простоту управления контентом для заказчика.
После тестирования и финальной доработки сайт был запущен в продакшен, став визитной карточкой компании.

`,
          },
          {
            title: "Вывод",
            description: `Этот проект показал, что минимализм — это не просто тренд, а мощный инструмент. Сайт получился строгим, элегантным и функциональным, полностью отражая стиль компании. Теперь он не только привлекает клиентов, но и формирует правильное восприятие бренда: ремонт — это искусство, а каждый интерьер — произведение дизайнерского мастерства.`,
          },
        ],
      },
    },
    {
      type:"Создание сайтов",
      img: "/case/woodcraft/main.png",
      title: "WoodCraft studio",
      date: "Январь 2025",
      page: {
        inner:'/case/woodcraft/inner.png',
        img: ["/case/woodcraft/1.png","/case/woodcraft/2.png","/case/woodcraft/3.png","/case/woodcraft/4.png","/case/woodcraft/5.png","/case/woodcraft/6.png","/case/woodcraft/7.png","/case/woodcraft/8.png","/case/woodcraft/9.png","/case/woodcraft/10.png","/case/woodcraft/11.png","/case/woodcraft/12.png","/case/woodcraft/13.png","/case/woodcraft/14.png","/case/woodcraft/15.png"],
        info: [
          {
            title: "Цель",
            description: `Создать интернет-магазин для продажи авторских изделий из дерева (мебель, декор, посуда). Сайт должен быть современным, стильным и удобным, чтобы привлекать клиентов и стимулировать покупки`,
          },
          {
            title: "Задачи сайта",
            description: `-Демонстрация ассортимента товаров с возможностью онлайн-заказа
-Упрощение процесса выбора и покупки

`,
          },
          {
            title: "Проблемы",
            description: `1. Низкий уровень доверия через визуал
2. Неудобный пользовательский опыт
3. Недостаточная экологичность в дизайн
4. Недостаточная экологичность в дизайн

`,
          }
      
        ],
      },
    },
    {
      type:"Создание сайтов",
      img: "/case/frontcur/main.png",
      title: "FrontCur",
      date: "Январь 2025",
      page: {
        inner:'/case/frontcur/inner.png',
        img: ["/case/frontcur/1.png","/case/frontcur/2.png","/case/frontcur/3.png","/case/frontcur/4.png","/case/frontcur/5.png","/case/frontcur/6.png"],
        info: [
          {
            title: "О проекте",
            description: `Сайт, который презентует курс FRONTEND-разработчика от школы разработчиков Frontcur.
`,
          },
          {
            title: "Для кого сайт",
            description: `Люди, которые:
Сомневаются в профессии. Сайт помогает школе убедить в перспективности профессии
Ищут себя
Хотят преобрести новые навыки и хотят понять какие навыки они могут получить в этой школе и как
Хотят преобрести новые навыки и хотят понять какие навыки они могут получить в этой школе и как


`,
          },
        
      
        ],
      },
    },
    {
      type:"Создание сайтов",
      img: "/case/beatmap/main.png",
      title: "BeatMap",
      date: "Декабрь 2024",
      page: {
        inner:'/case/beatmap/inner.png',
        img: ["/case/beatmap/1.png","/case/beatmap/2.png","/case/beatmap/3.png","/case/beatmap/4.png","/case/beatmap/5.png","/case/beatmap/6.png","/case/beatmap/7.png","/case/beatmap/8.png","/case/beatmap/9.png","/case/beatmap/10.png"],
        info: [
          {
            title: "О проекте",
            description: `BeatMap - это сервис для поиска и покупки билетов на концерты в Санкт-Петербурге.`,
          },
          {
            title: "Фишки:",
            description: `-Есть возможность послушать сниппет артиста
-Есть выбор концертов на карте
-Есть выбор концертов по дате

`,
          }
      
        ],
      },
    },
    {
      type:"Создание сайтов",
      img: "/case/trans/main.png",
      title: "TransNext",
      date: "Февраль 2025",
      page: {
        inner:'/case/trans/inner.png',
        img: ["/case/trans/1.png"],
        info: [
          {
            title: "Запрос клиента",
            description: `К нам обратилась логистическая компания, занимающаяся доставками в труднодоступные регионы. Они хотели разработать Telegram-бота, который бы помог клиентам отслеживать заказы и оформлять новые заявки.
Казалось бы, задача проста: создать удобный интерфейс, связать его с внутренней CRM, и готово. Но уже в ходе первого обсуждения стало понятно: бот не решит ключевых проблем бизнеса, а настоящая точка роста – это новый сайт и его продвижение.
`,
          },
          {
            title: "Погружение в проект",
            description: `Вместо того чтобы сразу разрабатывать бота, мы решили разобра	ться глубже:
Как клиенты узнают о компании? – Большинство приходит по сарафанному радио.
Как они оформляют заказы? – Через менеджеров по телефону или в старом, неудобном личном кабинете.
Что их останавливает? – Устаревший сайт, на котором сложно найти нужную информацию.
Оказалось, что основная проблема компании – не в отсутствии бота, а в том, что их сайт не привлекал клиентов и не конвертировал их в заказы.
`,
          },
          {
            title: "Решение: Новый сайт вместо временного патча",
            description: `Мы предложили комплексное решение:
 Современный, удобный сайт вместо старой, сложной системы. Теперь клиенты легко находят нужную информацию и оформляют заказы в пару кликов.
 Автоматизация процессов – интеграция с CRM, чтобы заказы сразу попадали в систему, а клиентам не приходилось звонить менеджерам.
 SEO-продвижение – оптимизация контента, чтобы логистическую компанию находили через поисковые системы.

`,
          },
          {
            title: "Дизайн и разработка: ставка на удобство",
            description: `Чистый, строгий интерфейс, который внушает доверие.
Простая форма заявки, убирающая лишние шаги.
Калькулятор стоимости доставки, который моментально рассчитывает цену.
Адаптивная версия для мобильных устройств, так как 70% клиентов заходят с телефонов.

`,
          },
          {
            title: "Результат",
            description: `Через месяц после запуска нового сайта компания увидела:
Рост количества заявок – теперь клиенты могли оформить заказ за пару минут без звонков менеджерам.
Уменьшение нагрузки на сотрудников – CRM автоматически распределяла заказы.
Поток новых клиентов через поисковики, благодаря грамотному SEO.
Ирония в том, что изначально компания пришла к нам за ботом, который решил бы лишь часть проблем, но в итоге получила мощный инструмент для масштабирования бизнеса. Бот, конечно, тоже сделали – но уже как дополнение к полноценной экосистеме.


`,
          },
          {
            title: "Вывод",
            description: `Иногда бизнес приходит с одним запросом, но на самом деле ему нужно совсем другое. Наша задача – не просто выполнять ТЗ, а искать лучшие решения для роста компании.



`,
          },
        ],
      },
    },
    {
      type:"Разработка ботов",
      img: "/case/vpn/main.png",
      title: "SuperM VPN",
      date: "Январь 2040",
      page: {
        inner:'/case/vpn/inner.png',
        img: ["/case/vpn/1.PNG", "/case/vpn/2.PNG", "/case/vpn/2.PNG"],
        info: [
          {
            title: "Запрос клиента",
            description: `К нам обратился заказчик с идеей создать VPN-сервис внутри Telegram-бота, который позволял бы пользователям легко подключаться к защищенному интернету без сложных настроек.
Основные требования:
 Простота — подключение в один клик.
 Доступность — сервис должен работать на iOS, Android, Windows и MacOS.
 Скорость — минимальные задержки и надежные серверы.
 Бюджетное продвижение без отдельного сайта – маркетинг через Telegram.
После детального анализа рынка мы увидели, что у большинства VPN-сервисов сложные приложения, высокие цены и нестабильная работа серверов. Мы решили сделать упор на максимальную простоту и доступность через Telegram.

`,
          },
          {
            title: "Разработка продукта",
            description: `🔹 Создание Telegram-бота и мини-приложения
Разработали интуитивный интерфейс с кнопкой подключения, выбором сервера и статистикой.
Добавили автоматическое продление подписки через Telegram Pay.
Внедрили систему моментального переключения серверов.
🔹 Проработка аналитики
Личный кабинет в боте с информацией о трафике, скорости и подключенных устройствах.
Мониторинг серверов, автоматически выбирающий самый быстрый узел.
🔹 Оптимизация сервиса
Подключили глобальную сеть серверов, чтобы минимизировать задержки.
Настроили автоматическое переключение на резервные узлы при сбоях.

`,
          },
          {
            title: "Стратегия продвижения: Telegram – главный канал",
            description: `Основной акцент сделали на рекламе в Telegram – именно там находится большая часть аудитории VPN-сервисов.
1. Закупка рекламы в Telegram-каналах
Мы проанализировали каналы с IT-аудиторией, пользователей которых VPN интересует больше всего.
 Разместили рекламу в:
Каналах по кибербезопасности.
IT-сообществах и чатах программистов.
Полезных подборках сервисов и инструментов.
Главный фокус — объяснить, почему VPN внутри Telegram удобнее, чем отдельное приложение.
2. Вирусное распространение: реферальная система
Мы внедрили реферальную программу:
Пользователь получает +7 дней VPN бесплатно за каждого приглашенного друга.
Это мотивировало людей самостоятельно распространять сервис, что дало мощный эффект.
3. Геймификация и акции
Провели розыгрыши бесплатных подписок среди подписчиков бота.
Добавили бонусные скидки на подписку для пользователей Telegram Premium.
4. Минимальное продвижение в других соцсетях
Для охвата новой аудитории протестировали небольшие рекламные кампании в Instagram и TikTok, но основной акцент оставался на Telegram.


`,
          },
          {
            title: "Результат",
            description: `Сервис полностью запустился в срок – от идеи до продакшена всего за 3 месяца.
Более 10 000 пользователей в первый месяц – благодаря грамотному Telegram-продвижению.
Вирусное распространение дало рост на 40% без дополнительных вложений.
`,
          },
          {
            title: "Вывод",
            description: `Telegram оказался идеальной площадкой для такого сервиса – доступность, удобство и моментальное подключение привлекли пользователей без лишних затрат на маркетинг.
Мы не просто создали продукт, а построили стратегию его роста, сделав VPN-сервис максимально доступным и популярным в Telegram. 



`,
          },
        ],
      },
    },
  ];

  const handleCaseClick = (caseData) => {
    // const queryString = new URLSearchParams({
    //   caseData: JSON.stringify(caseData),
    // }).toString();
    // navigate(`/case?${queryString}`);
    localStorage.setItem('case',JSON.stringify(caseData))
     navigate(`/case`);
  };
  return (
    <>
      <div id="Comand" className="Projects_box">
        <div>
          <div className="Top_block">
            <div className="Left_block">
              <div className="Info_box">
                <div></div>
                <div></div>
                <h1>Наши работы</h1>
                <span>Здесь можете оказаться вы</span>
              </div>

              <div className="Types">
                <div
                  onClick={() => HandleChange("Создание сайтов")}
                  className={active == "Создание сайтов" && "Active"}
                >
                  Создание сайтов
                </div>
                <div
                  onClick={() => HandleChange("Разработка ботов")}
                  className={active == "Разработка ботов" && "Active"}
                >
                  Разработка ботов
                </div>
                <div
                  onClick={() => HandleChange("Веб-дизайн")}
                  className={active == "Веб-дизайн" && "Active"}
                >
                  Веб-дизайн
                </div>
                <div
                  onClick={() => HandleChange("Интеграция ИИ")}
                  className={active == "Интеграция ИИ" && "Active"}
                >
                  Интеграция ИИ
                </div>
                <div
                  onClick={() => HandleChange("Мобильные приложения")}
                  className={active == "Мобильные приложения" && "Active"}
                >
                  Мобильные приложения
                </div>
              </div>
            </div>
            <div className="Right_block">
              <div>
                <div>
                  <h1>Более 55</h1>
                </div>
                <div>
                  <span>Проектов в разных нишах</span>
                </div>
              </div>
              <div>
                <div>Логистика</div>
                <div>Маркетплейсы</div>
                <div>Ремонты</div>
                <div>Дизайн</div>
                <div>Digital</div>
                <div>Сервисы</div>
                <div>B2B</div>
                <div>B2C</div>
              </div>
            </div>
          </div>
          {/* <div className="Not_jobs">Место для вашего кейса</div> */}

          {loading ? (
  <div className="Jobs">
    <div className="Jobs_box">
      {[...Array(6)].map((_, index) => (
        <Skileton key={index} />
      ))}
    </div>
  </div>
) : Cases.some(e => e.type === active) ? (
  <div className="Jobs">
    <div className="Jobs_box">
      {Cases.map((e, index) => {
        if (e.type === active) {
         
          return (
            <div key={index} onClick={() => handleCaseClick(e)}>
              <div className="Img_box">
           
                  <img src={e.img} alt={e.title} />
            
              </div>
              <div className="Info_box">
                <div className="Title_box">{e.title}</div>
                <div className="Date_box">{e.date}</div>
              </div>
            </div>
          );
        }
        return null;
      })}
    </div>
    {!more && (
      <div onClick={() => setMore(true)} className="Btn">
        {`<Смотреть больше работ/>`}
      </div>
    )}
  </div>
) : (
  <div className="Not_jobs">Место для вашего кейса</div>
)}




         
        </div>
      </div>
    </>
  );
}
